"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addRole = addRole;
exports.attachPermissionToRoles = attachPermissionToRoles;
exports.attachPermissionsToRole = attachPermissionsToRole;
exports.deleteRole = deleteRole;
exports.getPermissionCategories = getPermissionCategories;
exports.getPermissions = getPermissions;
exports.getRoles = getRoles;
exports.updateRole = updateRole;

var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _fetch = require("../fetch");

var _constants = require("../constants");

const _excluded = ["roleId"],
      _excluded2 = ["roleId"],
      _excluded3 = ["permissionId"];

async function getRoles() {
  return (0, _fetch.Get)(_constants.urls.identity.roles.v1);
}

async function addRole(body) {
  return (0, _fetch.Post)(_constants.urls.identity.roles.v1, body);
}

async function deleteRole({
  roleId
}) {
  return (0, _fetch.Delete)(`${_constants.urls.identity.roles.v1}/${roleId}`);
}

async function updateRole(_ref) {
  let {
    roleId
  } = _ref,
      body = (0, _objectWithoutPropertiesLoose2.default)(_ref, _excluded);
  return (0, _fetch.Patch)(`${_constants.urls.identity.roles.v1}/${roleId}`, body);
}

async function attachPermissionsToRole(_ref2) {
  let {
    roleId
  } = _ref2,
      body = (0, _objectWithoutPropertiesLoose2.default)(_ref2, _excluded2);
  return (0, _fetch.Put)(`${_constants.urls.identity.roles.v1}/${roleId}/permissions`, body);
}

async function getPermissions() {
  return (0, _fetch.Get)(_constants.urls.identity.permissions.v1);
}

async function attachPermissionToRoles(_ref3) {
  let {
    permissionId
  } = _ref3,
      body = (0, _objectWithoutPropertiesLoose2.default)(_ref3, _excluded3);
  return (0, _fetch.Put)(`${_constants.urls.identity.permissions.v1}/${permissionId}/roles`, body);
}

async function getPermissionCategories() {
  return (0, _fetch.Get)(`${_constants.urls.identity.permissions.v1}/categories`);
}